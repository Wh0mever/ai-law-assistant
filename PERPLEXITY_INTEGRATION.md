# üåê –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø PERPLEXITY API

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Perplexity API
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `PERPLEXITY_API_KEY` –≤ `config.py`
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `perplexity_service.py`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –≤ `ai_service.py`

### 2. –£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã embeddings
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `embeddings/`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ embeddings
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç FAISS –∏ numpy

### 3. –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ MD —Ñ–∞–π–ª—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π `web_search.py`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `main.py` –±–µ–∑ web_search
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `run_bot.py`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è

## üöÄ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê

### Perplexity API
- –ú–æ–¥–µ–ª—å: `llama-3.1-sonar-small-128k-online`
- –ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –¶–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å
2. **AI Service** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ (–±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ, —Ç—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ, etc.)
3. **Perplexity Service** –∏—â–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
4. **GPT-3.5** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –¥–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –≥–æ–ª–æ—Å–æ–≤—ã–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–ü–ª—é—Å (consultant.ru)
- –ì–∞—Ä–∞–Ω—Ç (garant.ru)  
- –í–µ—Ä—Ö–æ–≤–Ω—ã–π –°—É–¥ –†–§ (vsrf.ru)
- –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–§ (ksrf.ru)
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –ø—Ä–∞–≤–∞ (pravo.gov.ru)

## üìã –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
```
‚îú‚îÄ‚îÄ main.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å API –∫–ª—é—á–∞–º–∏
‚îú‚îÄ‚îÄ ai_service.py          # –ò–ò —Å–µ—Ä–≤–∏—Å —Å Perplexity
‚îú‚îÄ‚îÄ perplexity_service.py  # –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –ø–æ–∏—Å–∫–∞
‚îú‚îÄ‚îÄ legal_knowledge.py     # –ü—Ä–æ–º–ø—Ç—ã –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–Ω–∏—è
‚îú‚îÄ‚îÄ document_processor.py  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ tts_service.py         # –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îú‚îÄ‚îÄ admin_panel.py         # CRM —Å–∏—Å—Ç–µ–º–∞
‚îî‚îÄ‚îÄ requirements.txt       # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü–∞–ø–∫–∞ `embeddings/` (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
- –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ embeddings
- –§–∞–π–ª—ã `web_search.py`, –±–∞–∑–∞ `constitutional_knowledge.json`
- –í—Å–µ MD —Ñ–∞–π–ª—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

## üîß –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
pip install -r requirements.txt
```

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
python run_bot.py
```

3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:
```bash
python main.py
```

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

- –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç API
- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ embeddings
- –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ Perplexity
- API –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã